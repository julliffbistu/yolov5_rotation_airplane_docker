
# coding: utf-8

# In[2]:


data = [{'category_id': 'J', 'points': [[291.0751773906791, 263.64500425805034], [257.9926031850862, 283.9292804750485], [238.1479671405709, 251.56373597632464], [271.2305413461638, 231.2794597593265]], 'confidence': 0.8096210956573486}, {'category_id': 'K', 'points': [[191.20375532427332, 239.00482870864823], [231.66474212346012, 234.990096190646], [235.88785844525793, 277.55120156478927], [195.42687164607113, 281.5659340827915]], 'confidence': 0.44229987263679504}, {'category_id': 'J', 'points': [[194.09375510186052, 238.6407754491021], [233.47734683355029, 239.4493647414304], [232.6661631110301, 278.9593222071479], [193.28257137934034, 278.1507329148196]], 'confidence': 0.4377598464488983}]
#data =  [[1435.7601318359375, 2864.581787109375, 24.089012145996094, 28.235246658325195, 46.170413970947266, 0.7715340256690979, 3.0], [1404.4921875, 2869.432373046875, 26.037044525146484, 29.047239303588867, 49.064884185791016, 0.7602716684341431, 3.0], [1369.1259765625, 2873.908935546875, 25.98772621154785, 28.107440948486328, 44.09573745727539, 0.7527636885643005, 3.0], [1335.936279296875, 2879.06494140625, 28.108793258666992, 29.26227569580078, 46.413455963134766, 0.678290843963623, 3.0], [3220.95068359375, 2117.30224609375, 38.51261901855469, 36.66033172607422, 46.107398986816406, 0.4516071081161499, 8.0], [3218.798828125, 2115.487060546875, 36.190391540527344, 36.382572174072266, 56.475223541259766, 0.08952423930168152, 2.0], [3218.908935546875, 2115.286865234375, 33.77643966674805, 38.9782600402832, 59.349002838134766, 0.08193963021039963, 5.0]]
new_data = []

def new_list(data):
    new_data = []
    center_list = []
    print("len: ",len(data))
    if data:
        #print(data[0])
        temp_point = data[0]['points']
        print(temp_point)
        tempx = int(temp_point[0][0] + (temp_point[2][0]-temp_point[0][0])/2)
        tempy = int(temp_point[0][1] + (temp_point[2][1]-temp_point[0][1])/2)
        center_list.append([tempx,tempy])
        print(center_list[0])
        new_data.append(data[0])
        print("============================================================")
        print(new_data)
        print(center_list)
        print("============================================================")
        for i in range(1,len(data)):
            has = False
            point = data[i]['points']

            centerx = int(point[0][0] + (point[2][0]-point[0][0])/2)
            centery = int(point[0][1] + (point[2][1]-point[0][1])/2)
            print("--11--",[centerx,centery])
            for j in range(len(center_list)):

                distancex = (centerx - center_list[j][0])*(centerx - center_list[j][0])
                distancey = (centery - center_list[j][1])*(centery - center_list[j][1])
                print("----",distancex,distancey)
                if (distancex + distancey<100):
                    has = True
            if has == False:
                center_list.append([centerx,centery])
                new_data.append(data[i])
            print(center_list)
            #print("----"*10)
    print("new data: ",new_data)
    return new_data
new = new_list(data)
print("------------")
print(new)


# In[14]:


#data = [{'category_id': 'J', 'points': [[291.0751773906791, 263.64500425805034], [257.9926031850862, 283.9292804750485], [238.1479671405709, 251.56373597632464], [271.2305413461638, 231.2794597593265]], 'confidence': 0.8096210956573486}, {'category_id': 'K', 'points': [[191.20375532427332, 239.00482870864823], [231.66474212346012, 234.990096190646], [235.88785844525793, 277.55120156478927], [195.42687164607113, 281.5659340827915]], 'confidence': 0.44229987263679504}, {'category_id': 'J', 'points': [[194.09375510186052, 238.6407754491021], [233.47734683355029, 239.4493647414304], [232.6661631110301, 278.9593222071479], [193.28257137934034, 278.1507329148196]], 'confidence': 0.4377598464488983}]
data =  [[1435.7601318359375, 2864.581787109375, 24.089012145996094, 28.235246658325195, 46.170413970947266, 0.7715340256690979, 3.0], [1404.4921875, 2869.432373046875, 26.037044525146484, 29.047239303588867, 49.064884185791016, 0.7602716684341431, 3.0], [1369.1259765625, 2873.908935546875, 25.98772621154785, 28.107440948486328, 44.09573745727539, 0.7527636885643005, 3.0], [1335.936279296875, 2879.06494140625, 28.108793258666992, 29.26227569580078, 46.413455963134766, 0.678290843963623, 3.0], [3220.95068359375, 2117.30224609375, 38.51261901855469, 36.66033172607422, 46.107398986816406, 0.4516071081161499, 8.0], [3218.798828125, 2115.487060546875, 36.190391540527344, 36.382572174072266, 56.475223541259766, 0.08952423930168152, 2.0], [3218.908935546875, 2115.286865234375, 33.77643966674805, 38.9782600402832, 59.349002838134766, 0.08193963021039963, 5.0]]
#new_data = []

def takesix(elem):
    return elem[5]

def new_list(data):
    new_data = []
    center_list = []
    print("len: ",len(data))
    if data:
        print(data)
        data.sort(key=takesix,reverse=True)
        print("---")
        print(data)
        print("---")
        #print(data[0])
        temp_point = data[0]
        print(temp_point)
        tempx = int(temp_point[0])
        tempy = int(temp_point[1])
        center_list.append([tempx,tempy])
        print(center_list[0])
        new_data.append(data[0])
        print("============================================================")
        print(new_data)
        print(center_list)
        print("============================================================")
        
        for i in range(1,len(data)):
            has = False
            point = data[i]

            centerx = int(point[0])
            centery = int(point[1])
            for j in range(len(center_list)):

                distancex = (centerx - center_list[j][0])*(centerx - center_list[j][0])
                distancey = (centery - center_list[j][1])*(centery - center_list[j][1])
                
                if (distancex + distancey<100):
                    has = True
            if has == False:
                center_list.append([centerx,centery])
                new_data.append(data[i])
            print(center_list)
    print("new data: ",new_data)
    return new_data
    
new = new_list(data)
print("------------")
print(new)

